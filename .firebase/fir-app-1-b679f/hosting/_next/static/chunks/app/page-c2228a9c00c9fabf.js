(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{780:(e,t,s)=>{Promise.resolve().then(s.bind(s,6968))},6968:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>L});var r=s(7437),a=s(2265),l=s(9842),o=s(9506);async function n(){let e=(0,l.hJ)(o.db,"blogs");return(await (0,l.PL)(e)).docs.map(e=>({id:e.id,...e.data()}))}async function i(e){let t=(0,l.hJ)(o.db,"blogs");return(await (0,l.ET)(t,{...e,createAt:Date.now()})).id}async function d(e,t){let s=(0,l.doc)(o.db,"blogs",e);await (0,l.updateDoc)(s,t)}async function c(e){let t=(0,l.doc)(o.db,"blogs",e);await (0,l.oe)(t)}var x=s(8185),h=s(9055),u=s(9733);function m(e){let{blog:t,onEdit:s,onDelete:a}=e,l=new Date(t.createAt).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"});return(0,r.jsxs)(x.Zb,{className:"group relative overflow-hidden border-0 bg-gradient-to-br from-white to-slate-50 shadow-md transition-all duration-300 hover:shadow-xl hover:-translate-y-1 dark:from-slate-900 dark:to-slate-800",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10 opacity-0 transition-opacity group-hover:opacity-100 pointer-events-none"}),(0,r.jsx)(x.Ol,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x.ll,{className:"text-xl font-bold tracking-tight text-slate-800 dark:text-white",children:t.title}),(0,r.jsx)(h.C,{variant:"secondary",className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white border-0 font-medium",children:t.slug})]}),(0,r.jsxs)("div",{className:"relative z-10 flex gap-2",children:[(0,r.jsxs)(u.z,{variant:"outline",size:"sm",onClick:()=>s(t),className:"h-8 border-blue-200 text-blue-600 hover:bg-blue-50 hover:text-blue-700 dark:border-blue-800 dark:text-blue-400",children:[(0,r.jsx)("svg",{className:"mr-1 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(0,r.jsxs)(u.z,{variant:"outline",size:"sm",onClick:()=>a(t),className:"h-8 border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700 dark:border-red-800 dark:text-red-400",children:[(0,r.jsx)("svg",{className:"mr-1 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})}),(0,r.jsxs)(x.aY,{className:"space-y-4",children:[(0,r.jsx)("p",{className:"line-clamp-2 text-sm text-slate-600 dark:text-slate-300",children:t.info}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-xs text-slate-500 dark:text-slate-400",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,r.jsx)("span",{children:t.userId})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,r.jsx)("span",{children:t.phoneNumber})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,r.jsx)("span",{children:l})]})]})]})]})}function p(e){let{blogs:t,onEdit:s,onDelete:a}=e;return 0===t.length?null:(0,r.jsx)("div",{className:"grid gap-6 sm:grid-cols-1 lg:grid-cols-2",children:t.map(e=>(0,r.jsx)(m,{blog:e,onEdit:s,onDelete:a},e.id))})}var f=s(7209),g=s(402),b=s(4919),j=s(9116);let v={title:"",slug:"",info:"",thrilled:"",phoneNumber:0,userId:""};function k(e){let{blog:t,open:s,onClose:l,onSubmit:o}=e,[n,i]=(0,a.useState)(!1),[d,c]=(0,a.useState)(v);(0,a.useEffect)(()=>{t?c({title:t.title,slug:t.slug,info:t.info,thrilled:t.thrilled,phoneNumber:t.phoneNumber,userId:t.userId}):c(v)},[t,s]);let x=async e=>{e.preventDefault(),i(!0);try{await o(d),l()}catch(e){console.error("Error submitting form:",e)}finally{i(!1)}},h=e=>{let{name:t,value:s}=e.target;c(e=>({...e,[t]:"phoneNumber"===t?Number(s):s}))};return(0,r.jsx)(j.Vq,{open:s,onOpenChange:l,children:(0,r.jsxs)(j.cZ,{className:"sm:max-w-[600px] p-0 gap-0 overflow-hidden bg-white dark:bg-slate-900 border-0 shadow-2xl",children:[(0,r.jsx)(j.fK,{className:"px-6 py-5 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600",children:(0,r.jsxs)(j.$N,{className:"flex items-center gap-3 text-xl text-white",children:[(0,r.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-white/20 backdrop-blur-sm",children:t?(0,r.jsx)("svg",{className:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}):(0,r.jsx)("svg",{className:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-semibold",children:t?"Edit Blog":"Create New Blog"}),(0,r.jsx)("p",{className:"text-sm font-normal text-white/70 mt-0.5",children:t?"Update your blog post details":"Fill in the details to create a new post"})]})]})}),(0,r.jsxs)("form",{onSubmit:x,className:"p-6 space-y-5",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(g._,{htmlFor:"title",className:"text-sm font-semibold text-slate-700 dark:text-slate-200 flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"h-4 w-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),"Title",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(f.I,{id:"title",name:"title",value:d.title,onChange:h,placeholder:"Enter an engaging title...",className:"h-12 rounded-xl border-slate-200 bg-slate-50 px-4 text-base transition-all focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 dark:border-slate-700 dark:bg-slate-800 dark:focus:bg-slate-800",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(g._,{htmlFor:"slug",className:"text-sm font-semibold text-slate-700 dark:text-slate-200 flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"h-4 w-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"URL Slug",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"/blog/"}),(0,r.jsx)(f.I,{id:"slug",name:"slug",value:d.slug,onChange:h,placeholder:"your-blog-slug",className:"h-12 rounded-xl border-slate-200 bg-slate-50 pl-14 pr-4 text-base transition-all focus:bg-white focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 dark:border-slate-700 dark:bg-slate-800",required:!0})]}),(0,r.jsxs)(u.z,{type:"button",variant:"outline",onClick:()=>{let e=d.title.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");c(t=>({...t,slug:e}))},className:"h-12 px-4 rounded-xl border-slate-200 hover:bg-purple-50 hover:border-purple-300 hover:text-purple-600 transition-all dark:border-slate-700",children:[(0,r.jsx)("svg",{className:"h-4 w-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Auto"]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(g._,{htmlFor:"info",className:"text-sm font-semibold text-slate-700 dark:text-slate-200 flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"h-4 w-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),"Description"]}),(0,r.jsx)(b.g,{id:"info",name:"info",value:d.info,onChange:h,placeholder:"Write a brief summary of your blog post...",rows:3,className:"rounded-xl border-slate-200 bg-slate-50 px-4 py-3 text-base resize-none transition-all focus:bg-white focus:border-green-500 focus:ring-2 focus:ring-green-500/20 dark:border-slate-700 dark:bg-slate-800"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(g._,{htmlFor:"thrilled",className:"text-sm font-semibold text-slate-700 dark:text-slate-200 flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"h-4 w-4 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),"Additional Content"]}),(0,r.jsx)(b.g,{id:"thrilled",name:"thrilled",value:d.thrilled,onChange:h,placeholder:"Any extra details or highlights...",rows:2,className:"rounded-xl border-slate-200 bg-slate-50 px-4 py-3 text-base resize-none transition-all focus:bg-white focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 dark:border-slate-700 dark:bg-slate-800"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(g._,{htmlFor:"phoneNumber",className:"text-sm font-semibold text-slate-700 dark:text-slate-200 flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"h-4 w-4 text-cyan-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone"]}),(0,r.jsx)(f.I,{id:"phoneNumber",name:"phoneNumber",type:"number",value:d.phoneNumber||"",onChange:h,placeholder:"0123456789",className:"h-12 rounded-xl border-slate-200 bg-slate-50 px-4 text-base transition-all focus:bg-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 dark:border-slate-700 dark:bg-slate-800"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(g._,{htmlFor:"userId",className:"text-sm font-semibold text-slate-700 dark:text-slate-200 flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"h-4 w-4 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Author ID"]}),(0,r.jsx)(f.I,{id:"userId",name:"userId",value:d.userId,onChange:h,placeholder:"user-123",className:"h-12 rounded-xl border-slate-200 bg-slate-50 px-4 text-base transition-all focus:bg-white focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 dark:border-slate-700 dark:bg-slate-800"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 mt-2 border-t border-slate-100 dark:border-slate-800",children:[(0,r.jsx)(u.z,{type:"button",variant:"ghost",onClick:l,className:"h-11 px-6 rounded-xl text-slate-600 hover:text-slate-800 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800",children:"Cancel"}),(0,r.jsx)(u.z,{type:"submit",disabled:n,className:"h-11 px-8 rounded-xl bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white font-medium shadow-lg shadow-purple-500/25 hover:shadow-xl hover:shadow-purple-500/30 hover:scale-[1.02] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:n?(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsxs)("svg",{className:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):(0,r.jsx)("span",{className:"flex items-center gap-2",children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Update Blog"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Blog"]})})})]})]})]})})}function N(e){let{blog:t,open:s,loading:a,onClose:l,onConfirm:o}=e;return(0,r.jsx)(j.Vq,{open:s,onOpenChange:l,children:(0,r.jsxs)(j.cZ,{className:"sm:max-w-[420px] p-0 gap-0 overflow-hidden bg-white dark:bg-slate-900 border-0 shadow-2xl",children:[(0,r.jsx)("div",{className:"px-6 py-8 bg-gradient-to-br from-red-500 via-rose-500 to-pink-500",children:(0,r.jsx)("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm shadow-lg",children:(0,r.jsx)("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}),(0,r.jsxs)("div",{className:"px-6 py-6",children:[(0,r.jsxs)(j.fK,{className:"space-y-3",children:[(0,r.jsx)(j.$N,{className:"text-xl font-bold text-center text-slate-800 dark:text-white",children:"Delete Blog Post"}),(0,r.jsxs)(j.Be,{className:"text-center text-slate-500 dark:text-slate-400",children:["Are you sure you want to delete"," ",(0,r.jsx)("span",{className:"font-semibold text-slate-700 dark:text-slate-200 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded",children:null==t?void 0:t.title}),"?"]})]}),(0,r.jsx)("div",{className:"mt-5 p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800/30",children:(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Warning"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"This action cannot be undone. This will permanently delete the blog post and all associated data."})]})]})}),(0,r.jsxs)(j.cN,{className:"mt-6 flex gap-3 sm:justify-center",children:[(0,r.jsxs)(u.z,{variant:"outline",onClick:l,className:"flex-1 h-11 rounded-xl border-slate-200 hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:[(0,r.jsx)("svg",{className:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]}),(0,r.jsx)(u.z,{onClick:o,disabled:a,className:"flex-1 h-11 rounded-xl bg-gradient-to-r from-red-500 via-rose-500 to-pink-500 text-white font-medium shadow-lg shadow-red-500/25 hover:shadow-xl hover:shadow-red-500/30 hover:scale-[1.02] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:a?(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsxs)("svg",{className:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Blog"]})})]})]})]})})}function w(e){let{onCreateClick:t}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50/50 px-6 py-16 dark:border-slate-700 dark:bg-slate-800/50",children:[(0,r.jsx)("div",{className:"mb-4 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 p-4",children:(0,r.jsx)("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),(0,r.jsx)("h3",{className:"mb-2 text-lg font-semibold text-slate-800 dark:text-white",children:"No blogs yet"}),(0,r.jsx)("p",{className:"mb-6 text-center text-sm text-slate-500 dark:text-slate-400",children:"Get started by creating your first blog post."}),(0,r.jsxs)(u.z,{onClick:t,className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:from-blue-600 hover:to-purple-600",children:[(0,r.jsx)("svg",{className:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create your first blog"]})]})}var y=s(7583),C=s(2183);function L(){let{blogs:e,loading:t,error:s,createBlogItem:l,updateBlogItem:o,deleteBlogItem:x}=function(){let[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(!0),[l,o]=(0,a.useState)(null),x=(0,a.useRef)(!1),h=(0,a.useRef)(!0),u=(0,a.useCallback)(async()=>{try{r(!0),o(null);let e=await n();h.current&&t(e)}catch(e){h.current&&(o(e instanceof Error?e.message:"Failed to fetch blogs"),console.error("Error fetching blogs:",e))}finally{h.current&&r(!1)}},[]);(0,a.useEffect)(()=>(h.current=!0,x.current||(x.current=!0,u()),()=>{h.current=!1}),[u]);let m=(0,a.useCallback)(async e=>{let s=await i(e),r={...e,id:s,createAt:Date.now()};t(e=>[...e,r])},[]);return{blogs:e,loading:s,error:l,createBlogItem:m,updateBlogItem:(0,a.useCallback)(async(e,s)=>{await d(e,s),t(t=>t.map(t=>t.id===e?{...t,...s}:t))},[]),deleteBlogItem:(0,a.useCallback)(async e=>{await c(e),t(t=>t.filter(t=>t.id!==e))},[]),refetch:(0,a.useCallback)(async()=>{x.current=!1,await u(),x.current=!0},[u])}}(),[h,u]=(0,a.useState)(!1),[m,f]=(0,a.useState)(null),[g,b]=(0,a.useState)(null),[j,v]=(0,a.useState)(!1),L=(0,a.useCallback)(async e=>{await l(e)},[l]),M=(0,a.useCallback)(async e=>{m&&await o(m.id,e)},[m,o]),B=(0,a.useCallback)(async()=>{if(g){v(!0);try{await x(g.id),b(null)}catch(e){console.error("Error deleting blog:",e)}finally{v(!1)}}},[g,x]),z=(0,a.useCallback)(()=>{f(null),u(!0)},[]),V=(0,a.useCallback)(e=>{f(e),u(!0)},[]),W=(0,a.useCallback)(()=>{u(!1),f(null)},[]),D=(0,a.useCallback)(()=>{b(null)},[]);return s?(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,r.jsxs)("p",{className:"text-red-500",children:["Error: ",s]})}):(0,r.jsxs)("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[(0,r.jsx)(y.h,{onCreateClick:z}),(0,r.jsxs)("main",{className:"container mx-auto flex-1 px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:"All Blogs"}),(0,r.jsx)("p",{className:"mt-1 text-slate-500 dark:text-slate-400",children:"Manage and explore your blog posts"})]}),t?(0,r.jsx)("div",{className:"grid gap-6 sm:grid-cols-1 lg:grid-cols-2",children:[1,2,3,4].map(e=>(0,r.jsx)("div",{className:"rounded-xl border bg-white p-6 shadow-sm dark:bg-slate-800",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(C.O,{className:"h-6 w-3/4"}),(0,r.jsx)(C.O,{className:"h-5 w-20"}),(0,r.jsx)(C.O,{className:"h-16 w-full"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(C.O,{className:"h-4 w-24"}),(0,r.jsx)(C.O,{className:"h-4 w-24"})]})]})},e))}):0===e.length?(0,r.jsx)(w,{onCreateClick:z}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-6 flex items-center gap-2",children:(0,r.jsxs)("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-3 py-1 text-sm font-medium text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:[e.length," ",1===e.length?"blog":"blogs"]})}),(0,r.jsx)(p,{blogs:e,onEdit:V,onDelete:b})]})]}),(0,r.jsx)(y.$,{}),h&&(0,r.jsx)(k,{blog:m,open:h,onClose:W,onSubmit:m?M:L}),g&&(0,r.jsx)(N,{blog:g,open:!!g,loading:j,onClose:D,onConfirm:B})]})}},5933:(e,t,s)=>{"use strict";s.d(t,{$:()=>a});var r=s(7437);function a(){return(0,r.jsx)("footer",{className:"border-t border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-900",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-between gap-4 sm:flex-row",children:[(0,r.jsxs)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["\xa9 ",new Date().getFullYear()," BlogApp. Built with Next.js & Firebase."]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("a",{href:"https://nextjs.org",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",children:"Next.js"}),(0,r.jsx)("a",{href:"https://firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",children:"Firebase"}),(0,r.jsx)("a",{href:"https://tailwindcss.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",children:"Tailwind"})]})]})})})}},7583:(e,t,s)=>{"use strict";s.d(t,{$:()=>a.$,h:()=>r.h});var r=s(3131),a=s(5933)},9055:(e,t,s)=>{"use strict";s.d(t,{C:()=>n});var r=s(7437);s(2265);var a=s(3027),l=s(9354);let o=(0,a.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(o({variant:s}),t),...a})}},8185:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>n,SZ:()=>d,Zb:()=>o,aY:()=>c,ll:()=>i});var r=s(7437),a=s(2265),l=s(9354);let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...a})});o.displayName="Card";let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});n.displayName="CardHeader";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",s),...a})});i.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},9116:(e,t,s)=>{"use strict";s.d(t,{$N:()=>p,Be:()=>f,Vq:()=>i,cN:()=>m,cZ:()=>h,fK:()=>u,hg:()=>d});var r=s(7437),a=s(2265),l=s(2834),o=s(4697),n=s(9354);let i=l.fC,d=l.xz,c=l.h_;l.x8;let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.aV,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a})});x.displayName=l.aV.displayName;let h=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(x,{}),(0,r.jsxs)(l.VY,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...i,children:[a,(0,r.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=l.VY.displayName;let u=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};u.displayName="DialogHeader";let m=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};m.displayName="DialogFooter";let p=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...a})});p.displayName=l.Dx.displayName;let f=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});f.displayName=l.dk.displayName},7209:(e,t,s)=>{"use strict";s.d(t,{I:()=>o});var r=s(7437),a=s(2265),l=s(9354);let o=a.forwardRef((e,t)=>{let{className:s,type:a,...o}=e;return(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...o})});o.displayName="Input"},402:(e,t,s)=>{"use strict";s.d(t,{_:()=>d});var r=s(7437),a=s(2265),l=s(8364),o=s(3027),n=s(9354);let i=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.f,{ref:t,className:(0,n.cn)(i(),s),...a})});d.displayName=l.f.displayName},2183:(e,t,s)=>{"use strict";s.d(t,{O:()=>l});var r=s(7437),a=s(9354);function l(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-primary/10",t),...s})}},4919:(e,t,s)=>{"use strict";s.d(t,{g:()=>o});var r=s(7437),a=s(2265),l=s(9354);let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...a})});o.displayName="Textarea"},8364:(e,t,s)=>{"use strict";s.d(t,{f:()=>n});var r=s(2265),a=s(5171),l=s(7437),o=r.forwardRef((e,t)=>(0,l.jsx)(a.WV.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var n=o}},e=>{var t=t=>e(e.s=t);e.O(0,[358,990,639,247,231,712,831,551,765,131,130,215,744],()=>t(780)),_N_E=e.O()}]);