(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{595:(e,t,a)=>{Promise.resolve().then(a.bind(a,7686))},6463:(e,t,a)=>{"use strict";var s=a(1169);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},7686:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(7437),r=a(2265),l=a(6463),n=a(9630),i=a(2874),o=a(9733);function d(e){let{folder:t="uploads",maxSizeMB:a=10,acceptedTypes:l=["image/*","video/*","application/pdf"],multiple:d=!0,onUploadComplete:c,onUploadError:u}=e,{user:m}=(0,n.a)(),[x,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)([]),g=(0,r.useRef)(null),v=(0,r.useCallback)(e=>{e.preventDefault(),h(!0)},[]),j=(0,r.useCallback)(e=>{e.preventDefault(),h(!1)},[]),b=(0,r.useCallback)(e=>{e.preventDefault(),h(!1),N(Array.from(e.dataTransfer.files))},[m]),k=(0,r.useCallback)(e=>{N(Array.from(e.target.files||[])),g.current&&(g.current.value="")},[m]),N=async e=>{if(!m){null==u||u("Please login to upload files");return}let s=[];for(let t of e){if(!(0,i.ng)(t,a)){null==u||u("".concat(t.name," exceeds ").concat(a,"MB limit"));continue}s.push(t)}if(0===s.length)return;let r=s.map(e=>({file:e,progress:0,status:"uploading"}));f(e=>[...e,...r]);let l=[];for(let e=0;e<s.length;e++){let a=s[e],r=(0,i.FW)(m.uid,t,a.name);try{await new Promise((e,t)=>{(0,i.bW)(a,r,{onProgress:e=>{f(t=>t.map(t=>t.file===a?{...t,progress:e.progress}:t))},onComplete:t=>{l.push(t),f(e=>e.map(e=>e.file===a?{...e,status:"completed",url:t,progress:100}:e)),e()},onError:e=>{f(t=>t.map(t=>t.file===a?{...t,status:"error",error:e.message}:t)),t(e)}})})}catch(e){console.error("Upload error:",e)}}l.length>0&&(null==c||c(l))},y=e=>{f(t=>t.filter(t=>t.file!==e))},w=e=>{switch((0,i.JB)(e)){case"image":return(0,s.jsx)("svg",{className:"h-8 w-8 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"video":return(0,s.jsx)("svg",{className:"h-8 w-8 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})});case"document":return(0,s.jsx)("svg",{className:"h-8 w-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});default:return(0,s.jsx)("svg",{className:"h-8 w-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{onDragOver:v,onDragLeave:j,onDrop:b,onClick:()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.click()},className:"\n          relative cursor-pointer rounded-2xl border-2 border-dashed p-8 transition-all\n          ".concat(x?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 hover:border-blue-400 hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800/50","\n        "),children:[(0,s.jsx)("input",{ref:g,type:"file",multiple:d,accept:l.join(","),onChange:k,className:"hidden"}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,s.jsx)("div",{className:"mb-4 rounded-full p-4 ".concat(x?"bg-blue-100 dark:bg-blue-900/40":"bg-slate-100 dark:bg-slate-800"),children:(0,s.jsx)("svg",{className:"h-8 w-8 ".concat(x?"text-blue-500":"text-slate-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),(0,s.jsx)("p",{className:"mb-2 text-lg font-medium text-slate-700 dark:text-slate-200",children:x?"Drop files here":"Drag & drop files here"}),(0,s.jsx)("p",{className:"mb-4 text-sm text-slate-500 dark:text-slate-400",children:"or click to browse"}),(0,s.jsxs)("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:["Max file size: ",a,"MB • Supported: Images, Videos, PDF"]})]})]}),p.length>0&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h4",{className:"font-medium text-slate-700 dark:text-slate-200",children:"Uploading Files"}),p.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-4 rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-700 dark:bg-slate-800",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:e.file.type.startsWith("image/")&&"completed"===e.status&&e.url?(0,s.jsx)("img",{src:e.url,alt:e.file.name,className:"h-12 w-12 rounded-lg object-cover"}):w(e.file)}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("p",{className:"truncate font-medium text-slate-700 dark:text-slate-200",children:e.file.name}),(0,s.jsx)("p",{className:"text-sm text-slate-500",children:(0,i.sS)(e.file.size)}),"uploading"===e.status&&(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-700",children:(0,s.jsx)("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300",style:{width:"".concat(e.progress,"%")}})}),(0,s.jsxs)("p",{className:"mt-1 text-xs text-slate-500",children:[Math.round(e.progress),"%"]})]}),"completed"===e.status&&(0,s.jsx)("p",{className:"mt-1 text-sm text-green-600 dark:text-green-400",children:"✓ Upload complete"}),"error"===e.status&&(0,s.jsxs)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:["✗ ",e.error]})]}),(0,s.jsx)(o.z,{variant:"ghost",size:"sm",onClick:()=>y(e.file),className:"flex-shrink-0 text-slate-400 hover:text-red-500",children:(0,s.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))]})]})}var c=a(9116);function u(e){let{files:t,loading:a,onDelete:l,onSelect:n,selectable:d=!1}=e,[u,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(null),p=async e=>{if(confirm('Delete "'.concat(e.name,'"?'))){h(e.path);try{await (0,i._I)(e.path),null==l||l(e)}catch(e){console.error("Delete error:",e)}finally{h(null)}}},f=e=>e.startsWith("image/")?(0,s.jsx)("svg",{className:"h-12 w-12 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}):e.startsWith("video/")?(0,s.jsx)("svg",{className:"h-12 w-12 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}):e.includes("pdf")?(0,s.jsx)("svg",{className:"h-12 w-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}):(0,s.jsx)("svg",{className:"h-12 w-12 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})});return a?(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5",children:[1,2,3,4,5,6].map(e=>(0,s.jsx)("div",{className:"aspect-square animate-pulse rounded-xl bg-slate-200 dark:bg-slate-700"},e))}):0===t.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 py-12 dark:border-slate-700",children:[(0,s.jsx)("svg",{className:"mb-4 h-12 w-12 text-slate-300 dark:text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,s.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:"No files uploaded yet"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5",children:t.map(e=>(0,s.jsxs)("div",{className:"\n              group relative overflow-hidden rounded-xl border border-slate-200 bg-white transition-all\n              dark:border-slate-700 dark:bg-slate-800\n              ".concat(d?"cursor-pointer hover:ring-2 hover:ring-blue-500":"","\n              ").concat(x===e.path?"opacity-50":"","\n            "),onClick:()=>d&&(null==n?void 0:n(e)),children:[(0,s.jsx)("div",{className:"aspect-square",children:e.type.startsWith("image/")?(0,s.jsx)("img",{src:e.url,alt:e.name,className:"h-full w-full object-cover",onClick:t=>{d||(t.stopPropagation(),m(e))}}):e.type.startsWith("video/")?(0,s.jsx)("video",{src:e.url,className:"h-full w-full object-cover",onClick:t=>{d||(t.stopPropagation(),m(e))}}):(0,s.jsx)("div",{className:"flex h-full w-full items-center justify-center bg-slate-100 dark:bg-slate-700",children:f(e.type)})}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-end bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 transition-opacity group-hover:opacity-100",children:(0,s.jsxs)("div",{className:"w-full p-3",children:[(0,s.jsx)("p",{className:"truncate text-sm font-medium text-white",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-white/70",children:(0,i.sS)(e.size)})]})}),(0,s.jsxs)("div",{className:"absolute right-2 top-2 flex gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:[(0,s.jsx)(o.z,{size:"sm",variant:"secondary",className:"h-8 w-8 rounded-lg p-0",onClick:t=>{t.stopPropagation(),window.open(e.url,"_blank")},children:(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),l&&(0,s.jsx)(o.z,{size:"sm",variant:"destructive",className:"h-8 w-8 rounded-lg p-0",onClick:t=>{t.stopPropagation(),p(e)},disabled:x===e.path,children:(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},e.path))}),(0,s.jsx)(c.Vq,{open:!!u,onOpenChange:()=>m(null),children:(0,s.jsxs)(c.cZ,{className:"max-w-4xl",children:[(0,s.jsx)(c.fK,{children:(0,s.jsx)(c.$N,{children:null==u?void 0:u.name})}),(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(null==u?void 0:u.type.startsWith("image/"))&&(0,s.jsx)("img",{src:u.url,alt:u.name,className:"max-h-[70vh] rounded-lg object-contain"}),(null==u?void 0:u.type.startsWith("video/"))&&(0,s.jsx)("video",{src:u.url,controls:!0,className:"max-h-[70vh] rounded-lg"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-500",children:[(0,s.jsx)("span",{children:u&&(0,i.sS)(u.size)}),(0,s.jsx)("span",{children:null==u?void 0:u.createdAt.toLocaleDateString()})]})]})})]})}var m=a(3131),x=a(6864);function h(){let{user:e,loading:t}=(0,n.a)(),a=(0,l.useRouter)(),[o,c]=(0,r.useState)([]),[h,p]=(0,r.useState)(!0),[f,g]=(0,r.useState)("all");(0,r.useEffect)(()=>{t||e||a.push("/auth")},[e,t,a]);let v=(0,r.useCallback)(async()=>{if(e){p(!0);try{let t=await (0,i.C7)("uploads/".concat(e.uid));c(t.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()))}catch(e){var t;(null==e?void 0:e.code)==="storage/unauthorized"||(null==e?void 0:null===(t=e.message)||void 0===t?void 0:t.includes("CORS"))?console.warn("Storage not configured or empty"):console.error("Error fetching files:",e),c([])}finally{p(!1)}}},[e]),j=o.filter(e=>"all"===f||("images"===f?e.type.startsWith("image/"):"videos"===f?e.type.startsWith("video/"):"documents"!==f||e.type.includes("pdf")||e.type.includes("document")||e.type.includes("text"))),b={total:o.length,images:o.filter(e=>e.type.startsWith("image/")).length,videos:o.filter(e=>e.type.startsWith("video/")).length,documents:o.filter(e=>e.type.includes("pdf")||e.type.includes("document")||e.type.includes("text")).length};return t?(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,s.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"})}):e?(0,s.jsxs)("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[(0,s.jsx)(m.h,{}),(0,s.jsxs)("main",{className:"container mx-auto flex-1 px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:"My Files"}),(0,s.jsx)("p",{className:"mt-1 text-slate-500 dark:text-slate-400",children:"Upload and manage your files"})]}),(0,s.jsxs)("div",{className:"mb-8 grid grid-cols-2 gap-4 sm:grid-cols-4",children:[(0,s.jsx)("div",{className:"rounded-xl bg-white p-4 shadow-sm dark:bg-slate-800",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"rounded-lg bg-blue-100 p-2 dark:bg-blue-900/30",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:b.total}),(0,s.jsx)("p",{className:"text-sm text-slate-500",children:"Total Files"})]})]})}),(0,s.jsx)("div",{className:"rounded-xl bg-white p-4 shadow-sm dark:bg-slate-800",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"rounded-lg bg-green-100 p-2 dark:bg-green-900/30",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:b.images}),(0,s.jsx)("p",{className:"text-sm text-slate-500",children:"Images"})]})]})}),(0,s.jsx)("div",{className:"rounded-xl bg-white p-4 shadow-sm dark:bg-slate-800",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"rounded-lg bg-purple-100 p-2 dark:bg-purple-900/30",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:b.videos}),(0,s.jsx)("p",{className:"text-sm text-slate-500",children:"Videos"})]})]})}),(0,s.jsx)("div",{className:"rounded-xl bg-white p-4 shadow-sm dark:bg-slate-800",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"rounded-lg bg-red-100 p-2 dark:bg-red-900/30",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:b.documents}),(0,s.jsx)("p",{className:"text-sm text-slate-500",children:"Documents"})]})]})})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"mb-4 text-lg font-semibold text-slate-800 dark:text-white",children:"Upload Files"}),(0,s.jsx)(d,{folder:"uploads",maxSizeMB:50,onUploadComplete:e=>{v()},onUploadError:e=>console.error(e)})]}),(0,s.jsx)("div",{children:(0,s.jsxs)(x.mQ,{value:f,onValueChange:g,children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Your Files"}),(0,s.jsxs)(x.dr,{children:[(0,s.jsxs)(x.SP,{value:"all",children:["All (",b.total,")"]}),(0,s.jsxs)(x.SP,{value:"images",children:["Images (",b.images,")"]}),(0,s.jsxs)(x.SP,{value:"videos",children:["Videos (",b.videos,")"]}),(0,s.jsxs)(x.SP,{value:"documents",children:["Docs (",b.documents,")"]})]})]}),(0,s.jsx)(x.nU,{value:f,className:"mt-0",children:(0,s.jsx)(u,{files:j,loading:h,onDelete:e=>{c(t=>t.filter(t=>t.path!==e.path))}})})]})})]})]}):null}},9116:(e,t,a)=>{"use strict";a.d(t,{$N:()=>p,Be:()=>f,Vq:()=>o,cN:()=>h,cZ:()=>m,fK:()=>x,hg:()=>d});var s=a(7437),r=a(2265),l=a(2834),n=a(4697),i=a(9354);let o=l.fC,d=l.xz,c=l.h_;l.x8;let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});u.displayName=l.aV.displayName;let m=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(l.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[r,(0,s.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(n.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.VY.displayName;let x=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};x.displayName="DialogHeader";let h=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};h.displayName="DialogFooter";let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});p.displayName=l.Dx.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});f.displayName=l.dk.displayName},6864:(e,t,a)=>{"use strict";a.d(t,{SP:()=>d,dr:()=>o,mQ:()=>i,nU:()=>c});var s=a(7437),r=a(2265),l=a(586),n=a(9354);let i=l.fC,o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.aV,{ref:t,className:(0,n.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...r})});o.displayName=l.aV.displayName;let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.xz,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...r})});d.displayName=l.xz.displayName;let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});c.displayName=l.VY.displayName},2874:(e,t,a)=>{"use strict";a.d(t,{C7:()=>o,FW:()=>d,JB:()=>c,_I:()=>i,bW:()=>n,cT:()=>l,ng:()=>m,sS:()=>u});var s=a(9854),r=a(9506);async function l(e,t){let a=(0,s.iH)(r.tO,t),l=await (0,s.KV)(a,e,{contentType:e.type});return await (0,s.Jt)(l.ref)}function n(e,t,a){let l=(0,s.iH)(r.tO,t),n=(0,s.B0)(l,e,{contentType:e.type});return n.on("state_changed",e=>{var t;let s=e.bytesTransferred/e.totalBytes*100;null===(t=a.onProgress)||void 0===t||t.call(a,{progress:s,bytesTransferred:e.bytesTransferred,totalBytes:e.totalBytes,state:e.state})},e=>{var t;null===(t=a.onError)||void 0===t||t.call(a,e)},async()=>{var e;let t=await (0,s.Jt)(n.snapshot.ref);null===(e=a.onComplete)||void 0===e||e.call(a,t)}),n}async function i(e){let t=(0,s.iH)(r.tO,e);await (0,s.oq)(t)}async function o(e){let t=(0,s.iH)(r.tO,e);return Promise.all((await (0,s.aF)(t)).items.map(async e=>{let[t,a]=await Promise.all([(0,s.Jt)(e),(0,s.sd)(e)]);return{name:e.name,path:e.fullPath,url:t,size:a.size,type:a.contentType||"unknown",createdAt:new Date(a.timeCreated)}}))}function d(e,t,a){let s=Date.now(),r=a.replace(/[^a-zA-Z0-9.-]/g,"_");return"".concat(t,"/").concat(e,"/").concat(s,"_").concat(r)}function c(e){return e.type.startsWith("image/")?"image":e.type.startsWith("video/")?"video":e.type.includes("pdf")||e.type.includes("document")||e.type.includes("sheet")||e.type.includes("presentation")||e.type.includes("text")?"document":"other"}function u(e){if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}function m(e,t){return e.size<=1048576*t}},586:(e,t,a)=>{"use strict";a.d(t,{VY:()=>D,aV:()=>B,fC:()=>W,xz:()=>P});var s=a(2265),r=a(8149),l=a(7437),n=a(239),i=a(1383);a(4887);var o=a(1584),d=Symbol("radix.slottable");function c(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}var u=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=function(e){let t=function(e){let t=s.forwardRef((e,t)=>{let{children:a,...r}=e;if(s.isValidElement(a)){let e,l;let n=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.ref:(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.props.ref:a.props.ref||a.ref,i=function(e,t){let a={...t};for(let s in t){let r=e[s],l=t[s];/^on[A-Z]/.test(s)?r&&l?a[s]=(...e)=>{let t=l(...e);return r(...e),t}:r&&(a[s]=r):"style"===s?a[s]={...r,...l}:"className"===s&&(a[s]=[r,l].filter(Boolean).join(" "))}return{...e,...a}}(r,a.props);return a.type!==s.Fragment&&(i.ref=t?(0,o.F)(t,n):n),s.cloneElement(a,i)}return s.Children.count(a)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),a=s.forwardRef((e,a)=>{let{children:r,...n}=e,i=s.Children.toArray(r),o=i.find(c);if(o){let e=o.props.children,r=i.map(t=>t!==o?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...n,ref:a,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return(0,l.jsx)(t,{...n,ref:a,children:r})});return a.displayName=`${e}.Slot`,a}(`Primitive.${t}`),r=s.forwardRef((e,s)=>{let{asChild:r,...n}=e,i=r?a:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(i,{...n,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),m=a(7513),x=a(1715),h=a(3201),p="Tabs",[f,g]=function(e,t=[]){let a=[],r=()=>{let t=a.map(e=>s.createContext(e));return function(a){let r=a?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...a,[e]:r}}),[a,r])}};return r.scopeName=e,[function(t,r){let n=s.createContext(r),i=a.length;a=[...a,r];let o=t=>{let{scope:a,children:r,...o}=t,d=a?.[e]?.[i]||n,c=s.useMemo(()=>o,Object.values(o));return(0,l.jsx)(d.Provider,{value:c,children:r})};return o.displayName=t+"Provider",[o,function(a,l){let o=l?.[e]?.[i]||n,d=s.useContext(o);if(d)return d;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=a.reduce((t,{useScope:a,scopeName:s})=>{let r=a(e)[`__scope${s}`];return{...t,...r}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return a.scopeName=t.scopeName,a}(r,...t)]}(p,[n.Pc]),v=(0,n.Pc)(),[j,b]=f(p),k=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,onValueChange:r,defaultValue:n,orientation:i="horizontal",dir:o,activationMode:d="automatic",...c}=e,f=(0,m.gm)(o),[g,v]=(0,x.T)({prop:s,onChange:r,defaultProp:null!=n?n:"",caller:p});return(0,l.jsx)(j,{scope:a,baseId:(0,h.M)(),value:g,onValueChange:v,orientation:i,dir:f,activationMode:d,children:(0,l.jsx)(u.div,{dir:f,"data-orientation":i,...c,ref:t})})});k.displayName=p;var N="TabsList",y=s.forwardRef((e,t)=>{let{__scopeTabs:a,loop:s=!0,...r}=e,i=b(N,a),o=v(a);return(0,l.jsx)(n.fC,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:(0,l.jsx)(u.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:t})})});y.displayName=N;var w="TabsTrigger",C=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,disabled:i=!1,...o}=e,d=b(w,a),c=v(a),m=V(d.baseId,s),x=z(d.baseId,s),h=s===d.value;return(0,l.jsx)(n.ck,{asChild:!0,...c,focusable:!i,active:h,children:(0,l.jsx)(u.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...o,ref:t,onMouseDown:(0,r.Mj)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(s)}),onKeyDown:(0,r.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(s)}),onFocus:(0,r.Mj)(e.onFocus,()=>{let e="manual"!==d.activationMode;h||i||!e||d.onValueChange(s)})})})});C.displayName=w;var L="TabsContent",M=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,forceMount:n,children:o,...d}=e,c=b(L,a),m=V(c.baseId,r),x=z(c.baseId,r),h=r===c.value,p=s.useRef(h);return s.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,l.jsx)(i.z,{present:n||h,children:a=>{let{present:s}=a;return(0,l.jsx)(u.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":m,hidden:!s,id:x,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:s&&o})}})});function V(e,t){return"".concat(e,"-trigger-").concat(t)}function z(e,t){return"".concat(e,"-content-").concat(t)}M.displayName=L;var W=k,B=y,P=C,D=M}},e=>{var t=t=>e(e.s=t);e.O(0,[358,990,639,247,231,712,831,551,765,131,130,215,744],()=>t(595)),_N_E=e.O()}]);